<template name="adminReportsTab">
    <section>
        <div class="main-container">
            <div class="row">
                <div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1 col-sm-12">
                    <h2>Reports</h2>
                    {{#if Template.subscriptionsReady}}
                        {{#if isListDisplayed}}
                            {{#if reports}}
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th class="text-center">Name</th>
                                            <th class="text-center">Unit</th>
                                            <th class="text-center">Date Submitted</th>
                                            <th class="text-right">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {{#each reports}}
                                            <tr>
                                                <td class="id-col invisible">{{@index}}</td>
                                                {{#with (getUser userId)}}
                                                    <td class="text-center">{{profile.firstName}} {{profile.lastName}}</td>
                                                    <td class="text-center">{{profile.unit}}</td>
                                                {{/with}}
                                                <td class="text-center">{{getDate dateSubmitted}}</td>
                                                <td class="td-actions text-right">
                                                    <button type="button" rel="tooltip" title="View Report" class="btn btn-success btn-simple btn-xs view-report">
                                                        <i class="fa fa-edit"></i> View Report
                                                    </button>
                                                </td>
                                            </tr>
                                        {{/each}}
                                    </tbody>
                                </table>
                            {{else}}
                                No reports yet.
                            {{/if}}
                        {{/if}}
                        {{#if isDetailDisplayed}}
                            {{> adminReportsDetails details=getDetails}}
                        {{/if}}
                    {{else}}
                        <!-- <div class="sk-folding-cube">
                            <div class="sk-cube1 sk-cube"></div>
                            <div class="sk-cube2 sk-cube"></div>
                            <div class="sk-cube4 sk-cube"></div>
                            <div class="sk-cube3 sk-cube"></div>
                        </div> -->
                        <div class="sk-cube-grid">
                            <div class="sk-cube sk-cube1"></div>
                            <div class="sk-cube sk-cube2"></div>
                            <div class="sk-cube sk-cube3"></div>
                            <div class="sk-cube sk-cube4"></div>
                            <div class="sk-cube sk-cube5"></div>
                            <div class="sk-cube sk-cube6"></div>
                            <div class="sk-cube sk-cube7"></div>
                            <div class="sk-cube sk-cube8"></div>
                            <div class="sk-cube sk-cube9"></div>
                        </div>
                    {{/if}}
                </div>
            </div>
        </div>
    </section>
</template>
